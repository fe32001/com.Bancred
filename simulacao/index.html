<!DOCTYPE html><html lang="pt-BR"><head>
    <meta name="csrf-token" content="1ONeHDrs6hp0PvKmFkql97GFLemILTpRfj0iVkzC">
    <title>Empréstimo Seguro - Receba hoje via PIX</title>
    <meta name="description" content="Empréstimo online rápido e seguro. Mesmo com nome sujo ou score baixo. 100% digital, sem taxa.">
    <meta name="keywords" content="emprestimo, fácil, nome sujo, pix">
    <meta name="author" content="Bancred">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#FFFFFF">
    <meta name="apple-mobile-web-app-status-bar-style" content="#FFFFFF">
    <meta name="msapplication-navbutton-color" content="#FFFFFF">
    <link rel="canonical" href="https://confirabancred.com">
    <meta property="og:image" content="images/banner.jpg">
    <meta property="og:title" content="Empréstimo Seguro - Receba hoje via PIX">
    <meta property="og:url" content="https://confirabancred.com">
    <meta property="og:site_name" content="Empréstimo Seguro - Receba hoje via PIX">
    <meta property="og:type" content="website">
    <meta property="og:description" content="Empréstimo online rápido e seguro. Mesmo com nome sujo ou score baixo. 100% digital, sem taxa.">
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="icon" href="images/favicon.ico" sizes="32x32">
    <link rel="icon" href="images/favicon.ico" sizes="192x192">
    <link rel="apple-touch-icon" href="images/favicon.ico">
    <meta name="msapplication-TileImage" content="https://confirabancred.com/public/images/favicon.ico">
    <link rel="stylesheet" href="css/global.css">
    <script src="js/latest.js" data-utmify-prevent-subids="" data-utmify-ignore-iframe="" async="" defer=""></script>
    <script>
        window.googlePixelId = "69139bc38443d726b015eef1";
        var a = document.createElement("script");
        a.setAttribute("async", "");
        a.setAttribute("defer", "");
        a.setAttribute("src", "https://cdn.utmify.com.br/scripts/pixel/pixel-google.js");
        document.head.appendChild(a);
    </script>      
            <!-- Meta Pixel Code -->
    <script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '837190512285894');
    fbq("track", "PageView", {}, {eventID: "pv_6966ca18f281f"});
    </script>
    <noscript><img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=837190512285894&ev=PageView&noscript=1"
    /></noscript>
    <!-- End Meta Pixel Code -->      
</head>
<body data-id="6966ca190c702">
        <div class="min-h-screen flex flex-col">
        <header class="bg-white border-b border-border">
    <div class="container mx-auto px-4 py-5">
        <div class="flex justify-center">
            <div class="text-xl font-bold text-primary flex items-center">
                <div class="mr-3 relative group">
                    <div class="w-8 h-8 border-2 border-primary rounded-full flex items-center justify-center relative overflow-hidden">
                        <div class="w-full h-full bg-primary/10 absolute"></div>
                        <div class="relative z-10 font-bold text-primary text-sm">$</div>
                    </div>
                    <div class="absolute -top-1 -right-1 w-3 h-3 bg-accent rounded-full border-2 border-white"></div>
                </div>Bancred
            </div>
        </div>
    </div>
</header>        <main class="flex-1 bg-muted">
            <section class="py-12 h-full">
                <div class="container mx-auto px-4">
                    <div class="max-w-md mx-auto">
                        <div class="shadcn-card rounded-2xl border bg-card border-card-border text-card-foreground shadow-lg">
                            <div class="flex flex-col space-y-1.5 p-6 text-center pb-6">
                                <div class="mb-4">
                                    <div aria-valuemax="100" aria-valuemin="0" role="progressbar" data-state="indeterminate" data-max="100" class="relative overflow-hidden rounded-full bg-secondary w-full h-2">
                                        <div data-state="indeterminate" data-max="100" id="progress-bar" class="h-full w-full flex-1 bg-primary transition-all" style="transform: translateX(-83.3333%);"></div>
                                    </div>
                                    <p class="text-xs text-muted-foreground mt-2"><span id="step">1</span> de 6</p>
                                </div>
                                <div class="tracking-tight text-2xl font-semibold text-foreground" id="title-step">Motivo do Empréstimo</div>
                                <p class="text-muted-foreground mt-2" id="desc-step">Para que você precisa do empréstimo?</p>
                            </div>
                            <div class="p-6 pt-0">
                                <div class="space-y-6 step" data-step="1">
                                    <div class="space-y-4">
                                        <div class="options grid grid-cols-2 gap-3">
                                            <div class="p-4 border rounded-lg cursor-pointer transition-all duration-200 text-center border-border hover:border-primary/50 hover:bg-muted/50" data-testid="option-purpose-quitar-dividas">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-credit-card h-8 w-8 mx-auto mb-2 text-muted-foreground"><rect width="20" height="14" x="2" y="5" rx="2"></rect><line x1="2" x2="22" y1="10" y2="10"></line></svg>
                                                <span class="text-sm font-medium text-foreground">Quitar dívidas</span>
                                            </div>
                                            <div class="p-4 border rounded-lg cursor-pointer transition-all duration-200 text-center border-border hover:border-primary/50 hover:bg-muted/50" data-testid="option-purpose-emergencia">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-heart h-8 w-8 mx-auto mb-2 text-muted-foreground"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"></path></svg>
                                                <span class="text-sm font-medium text-foreground">Emergência médica</span>
                                            </div>
                                            <div class="p-4 border rounded-lg cursor-pointer transition-all duration-200 text-center border-border hover:border-primary/50 hover:bg-muted/50" data-testid="option-purpose-meu-negocio">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-store h-8 w-8 mx-auto mb-2 text-muted-foreground"><path d="m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7"></path><path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path><path d="M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4"></path><path d="M2 7h20"></path><path d="M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7"></path></svg>
                                                <span class="text-sm font-medium text-foreground">Meu negócio</span>
                                            </div>
                                            <div class="p-4 border rounded-lg cursor-pointer transition-all duration-200 text-center border-border hover:border-primary/50 hover:bg-muted/50" data-testid="option-purpose-reformar-casa">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-house h-8 w-8 mx-auto mb-2 text-muted-foreground"><path d="M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"></path><path d="M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path></svg>
                                                <span class="text-sm font-medium text-foreground">Reformar casa</span>
                                            </div>
                                            <div class="p-4 border rounded-lg cursor-pointer transition-all duration-200 text-center border-border hover:border-primary/50 hover:bg-muted/50" data-testid="option-purpose-comprar-veiculo">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-briefcase h-8 w-8 mx-auto mb-2 text-muted-foreground"><path d="M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path><rect width="20" height="14" x="2" y="6" rx="2"></rect></svg>
                                                <span class="text-sm font-medium text-foreground">Comprar veículo</span>
                                            </div>
                                            <div class="p-4 border rounded-lg cursor-pointer transition-all duration-200 text-center border-border hover:border-primary/50 hover:bg-muted/50" data-testid="option-purpose-outros">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-target h-8 w-8 mx-auto mb-2 text-muted-foreground"><circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="6"></circle><circle cx="12" cy="12" r="2"></circle></svg>
                                                <span class="text-sm font-medium text-foreground">Outros motivos</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="flex gap-3">
                                        <button class="next-step inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-base focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2 border border-primary-border min-h-9 px-4 py-2 flex-1 bg-primary hover:bg-primary/80 text-white font-semibold" data-testid="button-continue">Continuar</button>
                                    </div>
                                </div>
                                <div class="space-y-6 step hidden" data-step="2">
                                    <div class="space-y-6">
                                        <div class="space-y-3">
                                            <label class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">Sua ocupação</label>
                                            <div class="options grid grid-cols-1 gap-2">
                                                <div class="p-3 border rounded-lg cursor-pointer transition-all duration-200 flex items-center gap-3 border-border hover:border-primary/50 hover:bg-muted/50" data-testid="option-occupation-clt">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-briefcase h-5 w-5 text-muted-foreground"><path d="M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path><rect width="20" height="14" x="2" y="6" rx="2"></rect></svg>
                                                    <span class="text-sm font-medium text-foreground">Assalariado CLT</span>
                                                </div>
                                                <div class="p-3 border rounded-lg cursor-pointer transition-all duration-200 flex items-center gap-3 border-border hover:border-primary/50 hover:bg-muted/50" data-testid="option-occupation-servidor">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-building h-5 w-5 text-muted-foreground"><rect width="16" height="20" x="4" y="2" rx="2" ry="2"></rect><path d="M9 22v-4h6v4"></path><path d="M8 6h.01"></path><path d="M16 6h.01"></path><path d="M12 6h.01"></path><path d="M12 10h.01"></path><path d="M12 14h.01"></path><path d="M16 10h.01"></path><path d="M16 14h.01"></path><path d="M8 10h.01"></path><path d="M8 14h.01"></path></svg>
                                                    <span class="text-sm font-medium text-foreground">Servidor público</span>
                                                </div>
                                                <div class="p-3 border rounded-lg cursor-pointer transition-all duration-200 flex items-center gap-3 border-border hover:border-primary/50 hover:bg-muted/50" data-testid="option-occupation-autonomo">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-wrench h-5 w-5 text-muted-foreground"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path></svg>
                                                    <span class="text-sm font-medium text-foreground">Autônomo</span>
                                                </div>
                                                <div class="p-3 border rounded-lg cursor-pointer transition-all duration-200 flex items-center gap-3 border-border hover:border-primary/50 hover:bg-muted/50" data-testid="option-occupation-empresario">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-crown h-5 w-5 text-muted-foreground"><path d="M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z"></path><path d="M5 21h14"></path></svg>
                                                    <span class="text-sm font-medium text-foreground">Empresário / MEI</span>
                                                </div>
                                                <div class="p-3 border rounded-lg cursor-pointer transition-all duration-200 flex items-center gap-3 border-border hover:border-primary/50 hover:bg-muted/50" data-testid="option-occupation-aposentado">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-heart h-5 w-5 text-muted-foreground"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"></path></svg>
                                                    <span class="text-sm font-medium text-foreground">Aposentado</span>
                                                </div>
                                                <div class="p-3 border rounded-lg cursor-pointer transition-all duration-200 flex items-center gap-3 border-border hover:border-primary/50 hover:bg-muted/50" data-testid="option-occupation-desempregado">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user-x h-5 w-5 text-muted-foreground"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><line x1="17" x2="22" y1="8" y2="13"></line><line x1="22" x2="17" y1="8" y2="13"></line></svg>
                                                    <span class="text-sm font-medium text-foreground">Desempregado</span>
                                                </div>
                                                <div class="p-3 border rounded-lg cursor-pointer transition-all duration-200 flex items-center gap-3 border-border hover:border-primary/50 hover:bg-muted/50" data-testid="option-occupation-dona-casa">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-house h-5 w-5 text-muted-foreground"><path d="M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"></path><path d="M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path></svg>
                                                    <span class="text-sm font-medium text-foreground">Dona de casa</span>
                                                </div>
                                                <div class="p-3 border rounded-lg cursor-pointer transition-all duration-200 flex items-center gap-3 border-border hover:border-primary/50 hover:bg-muted/50" data-testid="option-occupation-estudante">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-graduation-cap h-5 w-5 text-muted-foreground"><path d="M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z"></path><path d="M22 10v6"></path><path d="M6 12.5V16a6 3 0 0 0 12 0v-3.5"></path></svg>
                                                    <span class="text-sm font-medium text-foreground">Estudante</span>
                                                </div>
                                                <div class="p-3 border rounded-lg cursor-pointer transition-all duration-200 flex items-center gap-3 border-border hover:border-primary/50 hover:bg-muted/50" data-testid="option-occupation-outro">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-target h-5 w-5 text-muted-foreground"><circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="6"></circle><circle cx="12" cy="12" r="2"></circle></svg>
                                                    <span class="text-sm font-medium text-foreground">Outro</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="flex gap-3">
                                        <button class="prev-step justify-center whitespace-nowrap rounded-xl text-base font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2 border [border-color:var(--button-outline)] shadow-xs active:shadow-none min-h-9 px-4 py-2 flex items-center gap-2" data-testid="button-back"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-left h-4 w-4"><path d="m15 18-6-6 6-6"></path></svg>Voltar</button>
                                        <button class="next-step inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-base focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2 border border-primary-border min-h-9 px-4 py-2 flex-1 bg-primary hover:bg-primary/80 text-white font-semibold" data-testid="button-continue">Continuar</button>
                                    </div>
                                </div>
                                <div class="space-y-6 step hidden" data-step="3">
                                    <div class="space-y-6">
                                        <div class="space-y-4">
                                            <div class="flex items-center gap-3 mb-3">
                                                <div class="w-10 h-10 bg-green-100 rounded-full flex items-center justify-center">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-dollar-sign h-5 w-5 text-green-600"><line x1="12" x2="12" y1="2" y2="22"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path></svg>
                                                </div>
                                                <div class="flex-1">
                                                    <label class="peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-base font-medium" for="income">Renda mensal</label>
                                                    <p class="text-xs text-muted-foreground">Informe sua renda líquida (valor que recebe)</p>
                                                </div>
                                            </div>
                                            <input type="text" class="flex w-full rounded-xl border border-input bg-background px-4 py-5 ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 antialiased text-lg font-semibold h-14" style="text-rendering: optimizelegibility;" id="income" placeholder="R$ 0,00" data-testid="input-income" value="" oninput="maskCurrency(event)">
                                        </div>
                                        <div class="space-y-4">
                                            <div class="flex items-center gap-3 mb-3">
                                                <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar h-5 w-5 text-blue-600"><path d="M8 2v4"></path><path d="M16 2v4"></path><rect width="18" height="18" x="3" y="4" rx="2"></rect><path d="M3 10h18"></path></svg>
                                                </div>
                                                <div class="flex-1">
                                                    <label class="peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-base font-medium" for="paymentDay">Dia de recebimento</label>
                                                    <p class="text-xs text-muted-foreground">Que dia do mês você costuma receber sua renda? (salário, benefício, aposentadoria, etc.)</p>
                                                </div>
                                            </div>
                                            <input type="text" class="flex w-full rounded-xl border border-input bg-background px-4 py-5 ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 antialiased text-lg font-semibold h-14" style="text-rendering: optimizelegibility;" id="paymentDay" placeholder="Ex.: 25" maxlength="2" data-testid="input-payment-day" value="">
                                        </div>
                                    </div>
                                    <div class="flex gap-3">
                                        <button class="prev-step justify-center whitespace-nowrap rounded-xl text-base font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2 border [border-color:var(--button-outline)] shadow-xs active:shadow-none min-h-9 px-4 py-2 flex items-center gap-2" data-testid="button-back"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-left h-4 w-4"><path d="m15 18-6-6 6-6"></path></svg>Voltar</button>
                                        <button class="next-step inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-base focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2 border border-primary-border min-h-9 px-4 py-2 flex-1 bg-primary hover:bg-primary/80 text-white font-semibold" data-testid="button-continue">Continuar</button>
                                    </div>
                                </div>
                                <div class="space-y-6 step hidden" data-step="4">
                                    <div class="space-y-6">
                                        <div class="space-y-3">
                                            <div class="grid grid-cols-1 gap-3">
                                                <div class="restricao p-4 border rounded-xl cursor-pointer transition-colors duration-200 border-border hover:border-primary/50 hover:bg-muted/50" data-testid="option-debt-yes">
                                                    <div class="flex items-center gap-3">
                                                        <div class="p-2 rounded-full bg-red-100">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x h-4 w-4 text-red-500"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>
                                                        </div>
                                                        <div>
                                                            <span class="font-medium text-foreground">Tenho algumas pendências</span>
                                                            <p class="text-xs mt-1 text-muted-foreground">Nome negativado ou restrições no CPF</p>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="sem-restricao p-4 border rounded-xl cursor-pointer transition-colors duration-200 border-border hover:border-primary/50 hover:bg-muted/50" data-testid="option-debt-no">
                                                    <div class="flex items-center gap-3">
                                                        <div class="p-2 rounded-full bg-green-100">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-check h-4 w-4 text-green-500"><path d="M20 6 9 17l-5-5"></path></svg>
                                                        </div>
                                                        <div>
                                                            <span class="font-medium text-foreground">Meu nome está limpo</span>
                                                            <p class="text-xs mt-1 text-muted-foreground">Sem restrições ou negativação</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="bg-muted/30 border border-muted rounded-xl p-4">
                                            <p class="text-sm text-muted-foreground text-center">Não se preocupe! Trabalhamos com pessoas em qualquer situação de crédito</p>
                                        </div>
                                    </div>
                                    <div class="flex gap-3">
                                        <button class="prev-step justify-center whitespace-nowrap rounded-xl text-base font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2 border [border-color:var(--button-outline)] shadow-xs active:shadow-none min-h-9 px-4 py-2 flex items-center gap-2" data-testid="button-back"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-left h-4 w-4"><path d="m15 18-6-6 6-6"></path></svg>Voltar</button>
                                        <button class="next-step inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-base focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2 border border-primary-border min-h-9 px-4 py-2 flex-1 bg-primary hover:bg-primary/80 text-white font-semibold" data-testid="button-continue">Continuar</button>
                                    </div>
                                </div>
                                <div class="space-y-6 step hidden" data-step="5">
                                    <div class="space-y-6">
                                        <div class="space-y-1">
                                            <div class="flex justify-between items-center mb-2">
                                                <label class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">Valor desejado</label>
                                                <span id="desejado" class="text-2xl font-bold text-primary">R$�5.000</span>
                                            </div>
                                            <div class="space-y-1">
                                                <input type="range" id="amountSlider" min="1000" max="20000" step="100" value="5000" class="slider w-full" autocomplete="off">
                                                <div class="flex justify-between text-sm text-muted-foreground">
                                                    <span>R$ 1.000,00</span>
                                                    <span>R$ 20.000,00</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="space-y-3">
                                            <label class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">Número de parcelas</label>
                                            <div class="grid grid-cols-4 gap-2">
                                                <div class="p-3 border rounded-lg cursor-pointer transition-all duration-200 text-center border-primary bg-primary/5 text-primary" data-testid="option-installments-12">
                                                    <div class="text-lg font-bold">12x</div>
                                                    <div class="text-xs text-muted-foreground">meses</div>
                                                </div>
                                                <div class="p-3 border rounded-lg cursor-pointer transition-all duration-200 text-center border-border hover:border-primary/50 hover:bg-muted/50" data-testid="option-installments-24">
                                                    <div class="text-lg font-bold">24x</div>
                                                    <div class="text-xs text-muted-foreground">meses</div>
                                                </div>
                                                <div class="p-3 border rounded-lg cursor-pointer transition-all duration-200 text-center border-border hover:border-primary/50 hover:bg-muted/50" data-testid="option-installments-36">
                                                    <div class="text-lg font-bold">36x</div>
                                                    <div class="text-xs text-muted-foreground">meses</div>
                                                </div>
                                                <div class="p-3 border rounded-lg cursor-pointer transition-all duration-200 text-center border-border hover:border-primary/50 hover:bg-muted/50" data-testid="option-installments-48">
                                                    <div class="text-lg font-bold">48x</div>
                                                    <div class="text-xs text-muted-foreground">meses</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                                            <div class="flex items-center justify-center gap-2 mb-4">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-dollar-sign h-5 w-5 text-green-600"><line x1="12" x2="12" y1="2" y2="22"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path></svg>
                                                <span class="font-semibold text-green-800">Sua simulação</span>
                                            </div>
                                            <div class="space-y-4 text-center">
                                                <div>
                                                    <p class="text-sm text-green-600 mb-1">Parcela mensal</p>
                                                    <p class="text-2xl font-bold text-green-800" data-testid="monthly-payment">R$�430,33</p>
                                                </div>
                                                <div>
                                                    <p class="text-sm text-green-600 mb-1">Total a pagar</p>
                                                    <p class="text-xl font-bold text-green-800" data-testid="total-payment">R$�5.163,99</p>
                                                </div>
                                                <div class="pt-2">
                                                    <p class="text-sm text-green-700 font-medium">12 parcelas de R$�430,33</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="bg-blue-50 border border-blue-200 rounded-lg p-3 text-center">
                                            <p class="text-sm text-blue-800">Valores sujeitos à análise de crédito.</p>
                                        </div>
                                    </div>
                                    <div class="flex gap-3">
                                        <button class="prev-step justify-center whitespace-nowrap rounded-xl text-base font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2 border [border-color:var(--button-outline)] shadow-xs active:shadow-none min-h-9 px-4 py-2 flex items-center gap-2" data-testid="button-back"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-left h-4 w-4"><path d="m15 18-6-6 6-6"></path></svg>Voltar</button>
                                        <button class="next-step inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-base focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2 border border-primary-border min-h-9 px-4 py-2 flex-1 bg-primary hover:bg-primary/80 text-white font-semibold" data-testid="button-continue">Continuar</button>
                                    </div>
                                </div>
                                <div class="space-y-6 step hidden" data-step="6">
                                    <div class="space-y-6">
                                        <div class="space-y-3">
                                            <div class="options grid grid-cols-3 gap-3">
                                                <div class="p-4 border rounded-lg cursor-pointer transition-all duration-200 text-center border-border hover:border-primary/50 hover:bg-muted/50" data-testid="option-day-5" data-day="5">
                                                    <div class="text-2xl font-bold">5</div>
                                                    <div class="text-xs text-muted-foreground">todo mês</div>
                                                </div>
                                                <div class="p-4 border rounded-lg cursor-pointer transition-all duration-200 text-center border-border hover:border-primary/50 hover:bg-muted/50" data-testid="option-day-10" data-day="10">
                                                    <div class="text-2xl font-bold">10</div>
                                                    <div class="text-xs text-muted-foreground">todo mês</div>
                                                </div>
                                                <div class="p-4 border rounded-lg cursor-pointer transition-all duration-200 text-center border-border hover:border-primary/50 hover:bg-muted/50" data-testid="option-day-15" data-day="15">
                                                    <div class="text-2xl font-bold">15</div>
                                                    <div class="text-xs text-muted-foreground">todo mês</div>
                                                </div>
                                                <div class="p-4 border rounded-lg cursor-pointer transition-all duration-200 text-center border-border hover:border-primary/50 hover:bg-muted/50" data-testid="option-day-20" data-day="20">
                                                    <div class="text-2xl font-bold">20</div>
                                                    <div class="text-xs text-muted-foreground">todo mês</div>
                                                </div>
                                                <div class="p-4 border rounded-lg cursor-pointer transition-all duration-200 text-center border-border hover:border-primary/50 hover:bg-muted/50" data-testid="option-day-25" data-day="25">
                                                    <div class="text-2xl font-bold">25</div>
                                                    <div class="text-xs text-muted-foreground">todo mês</div>
                                                </div>
                                                <div class="p-4 border rounded-lg cursor-pointer transition-all duration-200 text-center border-border hover:border-primary/50 hover:bg-muted/50" data-testid="option-day-30" data-day="30">
                                                    <div class="text-2xl font-bold">30</div>
                                                    <div class="text-xs text-muted-foreground">todo mês</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="bg-green-50 border border-green-200 rounded-lg p-4 text-center hidden" id="next-payment">
                                            <p class="text-sm text-green-600 mb-1">Primeira parcela</p>
                                            <p class="text-lg font-medium text-green-800" data-testid="first-payment-date"></p>
                                        </div>
                                    </div>
                                    <div class="flex gap-3">
                                        <button class="prev-step justify-center whitespace-nowrap rounded-xl text-base font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2 border [border-color:var(--button-outline)] shadow-xs active:shadow-none min-h-9 px-4 py-2 flex items-center gap-2" data-testid="button-back"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-left h-4 w-4"><path d="m15 18-6-6 6-6"></path></svg>Voltar</button>
                                        <button class="next-step inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-base focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2 border border-primary-border min-h-9 px-4 py-2 flex-1 bg-primary hover:bg-primary/80 text-white font-semibold" data-testid="button-continue">Finalizar análise</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
        <footer class="bg-gray-900 text-gray-300 py-8 border-t border-gray-800">
    <div class="container mx-auto px-4">
        <div class="text-center space-y-3">
            <div class="text-sm space-y-2">
                <div class="text-gray-400">� 2026 Bancred LTDA. Todos os direitos reservados.</div>
                <div class="text-gray-500">CNPJ 41.906.644/0001-20</div>
                <p class="text-xs text-gray-500 mt-1">Empréstimos rápidos e seguros para realizar seus sonhos</p>
            </div>
        </div>
    </div>
</footer>    </div>
<style>
.slider {
  -webkit-appearance: none;
  appearance: none;
  width: 100%;
  height: 8px;
  border-radius: 10px;
  background: #d0d5dc;
  outline: none;
}
.slider::-webkit-slider-runnable-track {
  height: 8px;
  border-radius: 10px;
  background: transparent;
}
.slider::-moz-range-track {
  height: 8px;
  border-radius: 10px;
  background: transparent;
}
.slider::-moz-range-progress {
  height: 8px;
  border-radius: 10px;
  background: #2463eb;
}
.slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: #fff;
  border: 2px solid #2463eb;
  cursor: pointer;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.25);
  margin-top: -4px;
}
.slider::-moz-range-thumb {
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: #fff;
  border: 2px solid #2463eb;
  cursor: pointer;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.25);
}
</style>
    <div class="fixed bottom-6 left-6 z-50 transition-all duration-500 transform translate-y-full opacity-0" data-testid="live-notification">
        <div class="bg-white rounded-xl shadow-lg border border-gray-200 p-4 max-w-sm">
            <div class="flex items-start gap-3">
                <div class="w-10 h-10 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-bell h-5 w-5 text-green-600"><path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"></path><path d="M10.3 21a1.94 1.94 0 0 0 3.4 0"></path></svg>
                </div>
                <div class="flex-1 min-w-0">
                    <div class="flex items-baseline gap-1">
                        <h4 class="font-semibold text-gray-900 text-sm truncate">Beatriz F.</h4>
                        <span class="text-xs text-gray-500">de Porto Alegre</span>
                    </div>
                    <p class="text-sm text-gray-600 mb-2">Recebeu via PIX R$�17.420,00</p>
                    <div class="w-full bg-gray-200 rounded-full h-1.5">
                        <div class="bg-green-500 h-1.5 rounded-full transition-all duration-100 ease-linear"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
<script src="js/jquery.min.js"></script>
<script src="js/jquery.mask.min.js"></script>
<script src="js/cdn.min.js" defer=""></script>
<script>
    const notifications = [
        { name: "Cláudia J.", city: "Goiânia", amount: 17450.00, message: "Recebeu via PIX R$" },
        { name: "Lucas O.", city: "Curitiba", amount: 19800.00, message: "Conseguiu o crédito de R$" },
        { name: "Fernanda L.", city: "Porto Alegre", amount: 22100.00, message: "Foi aprovada e recebeu R$" },
        { name: "Gabriel L.", city: "Manaus", amount: 15600.00, message: "Acabou de receber R$" },
        { name: "Felipe M.", city: "Guarulhos", amount: 13800.00, message: "Conseguiu o crédito de R$" },
        { name: "Tatiane P.", city: "Curitiba", amount: 8700.00, message: "Acabou de receber R$" },
        { name: "Carla S.", city: "Salvador", amount: 21450.00, message: "Foi aprovada e recebeu R$" },
        { name: "Rogério F.", city: "Belo Horizonte", amount: 9400.00, message: "Recebeu via PIX R$" },
        { name: "Patrícia M.", city: "Fortaleza", amount: 11800.00, message: "Conseguiu o crédito de R$" },
        { name: "André R.", city: "São Paulo", amount: 15200.00, message: "Acabou de receber R$" },
        { name: "Vanessa C.", city: "Brasília", amount: 20500.00, message: "Foi aprovada e recebeu R$" },
        { name: "João P.", city: "Recife", amount: 9700.00, message: "Recebeu via PIX R$" },
    ];

    let currentNotification = 0;
    const container = document.querySelector('[data-testid="live-notification"]');
    const nameEl = container.querySelector('h4');
    const cityEl = container.querySelector('span');
    const amountEl = container.querySelector('p');
    const progressEl = container.querySelector('.bg-green-500');

    function formatCurrencyNoti(value) {
        return value.toLocaleString("pt-BR", {
            minimumFractionDigits: 2,
            maximumFractionDigits: 2,
        });
    }

    function showNotification() {
        const n = notifications[currentNotification];

        nameEl.textContent = n.name;
        cityEl.textContent = `de ${n.city}`;
        amountEl.innerHTML = `${n.message} ${formatCurrencyNoti(n.amount)}`;

        container.classList.remove("translate-y-full", "opacity-0");
        container.classList.add("translate-y-0", "opacity-100");

        progressEl.style.transition = "none";
        progressEl.style.width = "100%";
        void progressEl.offsetWidth;

        progressEl.style.transition = "width 5s linear";
        progressEl.style.width = "0%";

        setTimeout(() => {
            container.classList.add("translate-y-full", "opacity-0");
            container.classList.remove("translate-y-0", "opacity-100");
        }, 5000);

        currentNotification = (currentNotification + 1) % notifications.length;
    }

    setTimeout(showNotification, 5000);
    setInterval(showNotification, 15000);
</script>
<script>
const userData = sessionStorage.getItem("userData");

if (!userData) {
    window.location.href = "https://confirabancred.com/cpf";
}

$('.next-step').attr('disabled', true);

const slider = document.querySelector('.slider');

function updateSliderBackground() {
    const min = slider.min || 0;
    const max = slider.max || 100;
    const val = slider.value;

    const percent = ((val - min) * 100) / (max - min);

    slider.style.background = `
        linear-gradient(to right, #2463eb ${percent}%, #d0d5dc ${percent}%)
    `;
}

slider.addEventListener('input', updateSliderBackground);
updateSliderBackground();

let step = 1;

let simulationData = {
    motivo: "",
    ocupacao: "",
    rendaMensal: "",
    diaRecebimento: "",
    situacaoCPF: "",
    valorDesejado: 5000,
    numeroParcelas: 12,
    melhorDia: 5,
};

const parcelasOptions = [12, 24, 36, 48];
const melhorDiaOptions = [5, 10, 15, 20, 25, 30];

const steps = [
    {
        title: "Motivo do Empréstimo",
        desc: "Para que você precisa do empréstimo?",
    },
    {
        title: "Ocupação",
        desc: "Informe sua ocupação",
    },
    {
        title: "Renda e Dia de Recebimento",
        desc: "Informe sua renda mensal e dia de recebimento",
    },
    {
        title: "Situação do CPF",
        desc: "Seu nome está negativado?",
    },
    {
        title: "Qual valor você precisa?",
        desc: "Deslize o controle abaixo para ajustar o valor e parcelas",
    },
    {
        title: "Melhor Dia",
        desc: "Primeira parcela só daqui a 90 dias. Mais tempo, menos preocupação.",
    },
];

function getTranslateX(step, totalSteps = 6) {
    const percentPerStep = 83.3333 / (totalSteps - 1);
    const translateX = -(83.3333 - percentPerStep * (step - 1));
    return `translateX(${translateX}%)`;
}

const calculateLoan = (amount, months) => {
    const monthlyRate = 0.0299;

    if (months === 0) {
        return { monthlyPayment: "0.00", totalPayment: "0.00" };
    }

    const monthlyPayment =
        (amount * monthlyRate * Math.pow(1 + monthlyRate, months)) / (Math.pow(1 + monthlyRate, months) - 1);
    const totalPayment = monthlyPayment * months;

    let userData = JSON.parse(sessionStorage.getItem("userData")) || {};
    userData.valorParcela = monthlyPayment;
    sessionStorage.setItem("userData", JSON.stringify(userData));

    return {
        monthlyPayment: monthlyPayment.toLocaleString("pt-BR", {minimumFractionDigits: 2,maximumFractionDigits: 2,}),
        totalPayment: totalPayment.toLocaleString("pt-BR", {minimumFractionDigits: 2,maximumFractionDigits: 2,}),
    };
};

const formatCurrency = (value) => {
    const numbers = String(value).replace(/\D/g, "");
    const amount = Number(numbers) / 100;
    return amount.toLocaleString("pt-BR", {
        minimumFractionDigits: 2,
        maximumFractionDigits: 2,
    });
};

const updateSimulationData = (newData) => {
    simulationData = { ...simulationData, ...newData };
    updateLoanDisplay();
};

const updateLoanDisplay = () => {
    const { monthlyPayment, totalPayment } = calculateLoan(
        simulationData.valorDesejado,
        simulationData.numeroParcelas
    );

    const formattedDesiredValue = simulationData.valorDesejado.toLocaleString('pt-BR');
    const desiredValueDisplay = document.querySelector('[data-testid="slider-amount"] + .space-y-3 .text-primary');

    if (desiredValueDisplay) {
        desiredValueDisplay.textContent = `R$ ${formattedDesiredValue}`;
    }

    const monthlyDisplay = document.querySelector('[data-testid="monthly-payment"]');
    if (monthlyDisplay) {
        monthlyDisplay.textContent = `R$ ${monthlyPayment}`;
    }

    const totalDisplay = document.querySelector('[data-testid="total-payment"]');
    if (totalDisplay) {
        totalDisplay.textContent = `R$ ${totalPayment}`;
    }

    const summaryDisplay = document.querySelector('.text-sm.text-green-700.font-medium');
    if (summaryDisplay) {
        summaryDisplay.textContent = `${simulationData.numeroParcelas} parcelas de R$ ${monthlyPayment}`;
    }

    document.querySelectorAll('[data-testid^="option-installments-"]').forEach(el => {
        el.classList.remove('border-primary', 'bg-primary/5', 'text-primary');
        el.classList.add('border-border', 'hover:border-primary/50', 'hover:bg-muted/50');

        if (el.dataset.testid === `option-installments-${simulationData.numeroParcelas || 12}`) {
            el.classList.add('border-primary', 'bg-primary/5', 'text-primary');
            el.classList.remove('border-border', 'hover:border-primary/50', 'hover:bg-muted/50');
        }
    });
};

updateLoanDisplay(); 

const amountSlider = document.getElementById('amountSlider');
if (amountSlider) {
    amountSlider.addEventListener('input', (e) => {
        const newValue = parseInt(e.target.value);
        
        if (!isNaN(newValue)) {
            updateSimulationData({ valorDesejado: newValue });
            const desejado = document.getElementById('desejado');
            desejado.textContent = `R$ ${newValue.toLocaleString('pt-BR')}`;
        }
    });
    
    amountSlider.addEventListener('change', (e) => {
        const newValue = parseInt(e.target.value);
        if (!isNaN(newValue)) {
            updateSimulationData({ valorDesejado: newValue });
            const desejado = document.getElementById('desejado');
            desejado.textContent = `R$ ${newValue.toLocaleString('pt-BR')}`;
        }
    });
}

document.querySelectorAll('[data-testid^="option-installments-"]').forEach(button => {
    button.addEventListener('click', () => {
        const parts = button.dataset.testid.split('-');
        const newInstallments = parseInt(parts[parts.length - 1]);

        if (!isNaN(newInstallments)) {
            updateSimulationData({ numeroParcelas: newInstallments });
        }
    });
});

function updateStep(step){
    const stepData = steps[step - 1];
    $('#step').text(step);
    $('#title-step').text(stepData.title);
    $('#desc-step').text(stepData.desc);
    $('#progress-bar').css('transform', getTranslateX(step));
    $('.step').addClass('hidden');
    $(`.step[data-step="${step}"]`).removeClass('hidden');
}

function maskCurrency(e) {
    let value = e.target.value;
    value = value.replace(/\D/g, "");

    if (value.length < 3) {
        value = value.padStart(3, '0');
    }
    
    const number = parseInt(value, 10) / 100;
    
    const formatted = number.toLocaleString('pt-BR', {
        minimumFractionDigits: 2,
        maximumFractionDigits: 2
    });

    e.target.value = formatted;
}

$(document).on('click', '.options.grid > div', function() {
    const $gridItems = $('.grid > div');
    const $step = $(this).closest('.step');

    $gridItems
        .removeClass('border-primary bg-primary/5 text-primary active')
        .find('svg').removeClass('text-primary').addClass('text-muted-foreground').end()
        .find('span').removeClass('text-primary').addClass('text-foreground');

    $(this)
        .addClass('border-primary bg-primary/5 text-primary active')
        .find('svg').addClass('text-primary').removeClass('text-muted-foreground').end()
        .find('span').addClass('text-primary').removeClass('text-foreground');

        if(step == 6){
            const hoje = new Date();
            const futuro = new Date(hoje.getFullYear(), hoje.getMonth() + 3, 1);
            const mes = String(futuro.getMonth() + 1).padStart(2, '0'); 
            const ano = futuro.getFullYear();
            const dia = $(this).data('day')
            const resultado = `${dia}/${mes}/${ano}`;
            let userData = JSON.parse(sessionStorage.getItem("userData")) || {};
            userData.proxVencimento = resultado;
            sessionStorage.setItem("userData", JSON.stringify(userData));
            $('p[data-testid="first-payment-date"]').text(resultado);
            $('#next-payment').removeClass('hidden');
        }
    
    $step.find('.next-step').attr('disabled', false);
});

$('#income, #paymentDay').on('input', function () {
    $(this).removeClass('border-red-500');
});

$(document).on('click', '.restricao', function(){
    const $step = $(this).closest('.step');
    $(this).addClass('border-red-500 bg-red-50 pointer-events-none active').removeClass('border-border');
    $(this).find('.rounded-full').addClass('bg-red-500').removeClass('bg-red-100');
    $(this).find('.rounded-full svg').addClass('text-white');
    $(this).find('span').addClass('text-red-700').removeClass('text-foreground');
    $(this).find('p').addClass('text-red-600').removeClass('text-muted-foreground');

    $('.sem-restricao').removeClass('border-green-500 bg-green-50 pointer-events-none active').addClass('border-border');
    $('.sem-restricao').find('.rounded-full').removeClass('bg-green-500').addClass('bg-green-100');
    $('.sem-restricao').find('.rounded-full svg').removeClass('text-white');
    $('.sem-restricao').find('span').removeClass('text-green-700').addClass('text-foreground');
    $('.sem-restricao').find('p').removeClass('text-green-600').addClass('text-muted-foreground');
    $step.find('.next-step').attr('disabled', false);
});

$(document).on('click', '.sem-restricao', function(){
    const $step = $(this).closest('.step');
    $(this).addClass('border-green-500 bg-green-50 pointer-events-none active').removeClass('border-border');
    $(this).find('.rounded-full').addClass('bg-green-500').removeClass('bg-green-100');
    $(this).find('.rounded-full svg').addClass('text-white');
    $(this).find('span').addClass('text-green-700').removeClass('text-foreground');
    $(this).find('p').addClass('text-green-600').removeClass('text-muted-foreground');

    $('.restricao').removeClass('border-red-500 bg-red-50 pointer-events-none active').addClass('border-border');
    $('.restricao').find('.rounded-full').removeClass('bg-red-500').addClass('bg-red-100');
    $('.restricao').find('.rounded-full svg').removeClass('text-white');
    $('.restricao').find('span').removeClass('text-red-700').addClass('text-foreground');
    $('.restricao').find('p').removeClass('text-red-600').addClass('text-muted-foreground');
    $step.find('.next-step').attr('disabled', false);
});

$(document).on('click', '.step .prev-step', function(){
    step--;
    updateStep(step);
});

$(document).on('click', '.step .next-step', function(){
    const $step = $(this).closest('.step');
    if(step == 1 || step == 2 || step == 4){
        const hasActive = $step.find('.grid > div.active').length > 0;
        if (!hasActive) {
            return;
        }
        $(this).text('Processando...').attr('disabled', true);
        setTimeout(() => {
            step++;
            updateStep(step);
            $(this).text('Continuar').attr('disabled', false);
            $('.step[data-step="3"]').find('.next-step').attr('disabled', false);
            $('.step[data-step="5"]').find('.next-step').attr('disabled', false);
        }, 700);
        updateLoanDisplay();
    }

    if(step == 3){
        let renda = $('#income').val();
        let day = $('#paymentDay').val();
       
        if(renda != '' && day != '' && day > 1 && day < 32){
            $(this).text('Processando...').attr('disabled', true);
            setTimeout(() => {
                step++;
                updateStep(step);
                $(this).text('Continuar').attr('disabled', false);
            }, 700);
        }else{
            if(renda == ''){
                $('#income').addClass('border-red-500');
            }
            if(day == '' || day < 1 || day > 31){
                $('#paymentDay').addClass('border-red-500');
            }
        }
    }

    if(step == 5){
        $(this).text('Processando...').attr('disabled', true);
        setTimeout(() => {
            step++;
            updateStep(step);
            $(this).text('Continuar').attr('disabled', false);
            $('.step[data-step="3"]').find('.next-step').attr('disabled', false);
            $('.step[data-step="5"]').find('.next-step').attr('disabled', false);
        }, 700);
    }

    if(step == 6){
        const hasActive = $step.find('.grid > div.active').length > 0;
        if (!hasActive) {
            return;
        }
        $(this).text('Processando...').attr('disabled', true);
        let userData = JSON.parse(sessionStorage.getItem("userData")) || {};
        userData.valorDesejado = simulationData.valorDesejado;
        userData.numParcelas = simulationData.numeroParcelas;
        sessionStorage.setItem("userData", JSON.stringify(userData));
        setTimeout(() => {
            window.location.href = "https://confirabancred.com/analise";
        }, 700);
    }
});


</script>

</body></html>